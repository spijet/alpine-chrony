---
ntp_defaults:
  pools:
    - pool.ntp.org
    - time.apple.com
    - time.cloudflare.com
  hwclock_path: /dev/rtc
  force_utc: false
  force_hwclock_control: false
  rtc_tracking_path: /var/lib/chrony/rtc
  realtime: true

ntp: |
  {%- if ntp_vars is defined and ntp_vars is iterable -%}
  {{ ntp_defaults | combine(ntp_vars, recursive=True) }}
  {%- else -%}
  {{ ntp_defaults }}
  {%- endif -%}
